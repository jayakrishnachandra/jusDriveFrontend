<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JustRide Owner Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Icon library -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    body { background: #f8f9fa; }
    .car { width: 320px; }
    .topbar { background: #fff; border-bottom: 1px solid #dee2e6; }
    .brand-text { color: #ff8c00; font-weight: bold; }
    .navlink { color: #0177ae; font-weight: bold; }
    .btn-orange { background: #ff8c00; color: #fff; }
    .card { border-radius: 0.75rem; }
    .user-info img { width: 80px; height: 80px; object-fit: cover; }
    header {
      background-color: #001f2e;
      color: white;
      padding: 15px 40px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
    }
    .logo {
  font-size: 30px;
  font-weight: bold;
  background: linear-gradient(to right, #ff8c00, #fb8500);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  }
    nav a {
      color: white;
      margin: 0 15px;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s ease;
    }
    nav a:hover {
      color: #ffb703;
    }
  </style>
</head>
<body>

  <!-- Topbar -->
  <nav class="topbar navbar navbar-expand p-3 d-flex justify-content-between">
    <div>
    <a class="navbar-brand brand-text logo" href="#">ðŸš—JusDrive</a>
    
    <a class="navlink" href="#"><i class="fa-solid fa-gauge"></i></i> Dashboard</a>
    <a class="navlink" href="#"><i class="fa-solid fa-list"></i> Bookings</a>
    <a class="navlink" href="#"><i class="fa-solid fa-circle-question"></i> Contact</a>
    </div>
    <ul class="navbar-nav align-items-center">
      <li class="nav-item dropdown me-3">
        <a class="nav-link position-relative" href="#" data-bs-toggle="dropdown">
          <i class="bi bi-bell"></i>
          <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">3</span>
        </a>
        <ul class="dropdown-menu dropdown-menu-end">
          <li><a class="dropdown-item" href="#">New booking request</a></li>
          <li><a class="dropdown-item" href="#">Car marked unavailable</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item text-center" href="#">View all</a></li>
        </ul>
      </li>
      <li class="nav-item dropdown">
        <a class="nav-link d-flex align-items-center" href="#" data-bs-toggle="dropdown">
          <img src="DSC_0144.jpg"
               width="50" height="50" class="rounded-circle me-2" alt="Owner Avatar">
          <span>charanpreethamroyal</span>
        </a>
        <ul class="dropdown-menu dropdown-menu-end">
          <li><a class="dropdown-item" href="#">My Profile</a></li>
          <li><a class="dropdown-item" href="#">Settings</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item text-danger" href="#">Logout</a></li>
        </ul>
      </li>
    </ul>
  </nav>

  <div class="container-fluid p-4">
    <!-- User Info Panel -->
    <div class="card mb-4 user-info">
      <div class="row g-0 align-items-center">
        <div class="col-auto p-3">
          <img src="DSC_0144.jpg"
               width="50" height="50" class="rounded-circle" alt="Owner Photo">
        </div>
        <div class="col">
          <div class="card-body">
            <h5 class="card-title mb-1">Charan Preetham Royal</h5>
            <p class="mb-1"><i class="bi bi-envelope-fill me-2"></i>charanpreethamroyal@gmail.com</p>
            <p class="mb-0"><i class="bi bi-phone-fill me-2"></i>+91 12345 67890</p>
          </div>
        </div>
        <div class="col-auto p-3">
          <button class="btn btn-outline-secondary">Edit Info</button>
        </div>
      </div>
    </div>

    <!-- Summary Widgets -->
    <div class="row g-4 mb-4">
      <!-- Your four KPI cards... -->
    </div>

    <!-- Cars List -->
    <div class="d-flex justify-content-between align-items-center mb-3">
      <h5>My Cars</h5>
      <button class="btn btn-orange" data-bs-toggle="modal" data-bs-target="#addCarModal">
        <i class="bi bi-plus-lg me-1"></i> Add New Car
      </button>
    </div>
    <div id="car-container" class="row g-4"></div>
  </div>

  <!-- Add Car Modal -->
  <div class="modal fade" id="addCarModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <form id="addCarForm">
          <div class="modal-header">
            <h5 class="modal-title">Register New Car</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
          </div>
          <div class="modal-body">
            <div class="row g-3">
              <div class="col-md-6">
                <label for="carModel" class="form-label">Make & Model</label>
                <input type="text" id="carModel" class="form-control" required>
              </div>
              <div class="col-md-6">
                <label for="carPlate" class="form-label">License Plate</label>
                <input type="text" id="carPlate" class="form-control" required>
              </div>
              <div class="col-md-6">
                <label for="carPrice" class="form-label">Price / day (â‚¹)</label>
                <input type="number" id="carPrice" class="form-control" required>
              </div>
              <div class="col-md-6">
                <label for="carImageUrl" class="form-label">Image URL</label>
                <input type="url" id="carImageUrl" class="form-control" placeholder="https://example.com/car.jpg">
              </div>
              <div class="col-md-6">
                <label for="carImageFile" class="form-label">Or Upload Image</label>
                <input type="file" id="carImageFile" class="form-control" accept="image/*">
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="submit" class="btn btn-orange">Save Car</button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <!-- Inline JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    function getSavedCars() {
      const raw = localStorage.getItem('carList');
      return raw ? JSON.parse(raw) : [];
    }
    function buildCarCard(car, index) {
      const col = document.createElement('div');
      col.className = 'col-lg-3 col-md-6';
      col.innerHTML = `
        <div class="car card h-100">
          <img src="${car.image}" class="card-img-top" alt="Car Image">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">${car.model}</h5>
            <p class="card-text text-muted">Plate: ${car.plate} | â‚¹${car.price}/day</p>
            <div class="form-check form-switch mb-3">
              <input class="form-check-input" type="checkbox" id="avail${index}" checked>
              <label class="form-check-label" for="avail${index}">Available</label>
            </div>
            <div class="mt-auto d-flex gap-2">
              <button class="btn btn-sm btn-outline-primary flex-fill">Edit</button>
              <button class="btn btn-sm btn-outline-danger flex-fill" onclick="removeCar(${index})">Remove</button>
            </div>
          </div>
        </div>
      `;
      return col;
    }
    function renderCars() {
      const container = document.getElementById('car-container');
      container.innerHTML = '';
      getSavedCars().forEach((car, idx) => container.appendChild(buildCarCard(car, idx)));
    }
    function removeCar(index) {
      const cars = getSavedCars();
      cars.splice(index, 1);
      localStorage.setItem('carList', JSON.stringify(cars));
      renderCars();
    }
    document.addEventListener('DOMContentLoaded', () => {
      renderCars();
      const addCarModal = new bootstrap.Modal(document.getElementById('addCarModal'));
      const form = document.getElementById('addCarForm');
      form.addEventListener('submit', function(e) {
        e.preventDefault();
        const model = carModel.value.trim();
        const plate = carPlate.value.trim();
        const price = carPrice.value;
        const url = carImageUrl.value.trim();
        const file = carImageFile.files[0];
        function save(entry) {
          const cars = getSavedCars();
          cars.push(entry);
          localStorage.setItem('carList', JSON.stringify(cars));
          form.reset();
          addCarModal.hide();
          renderCars();
        }
        if (file) {
          const reader = new FileReader();
          reader.onload = evt => save({ model, plate, price, image: evt.target.result });
          reader.readAsDataURL(file);
        } else if (url) {
          save({ model, plate, price, image: url });
        } else {
          alert('Please provide an image URL or upload a file.');
        }
      });
    });
  </script>
</body>
</html>
